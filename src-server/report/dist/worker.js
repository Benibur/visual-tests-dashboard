!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/static",n(n.s=62)}({62:function(e,t,n){const{ModuleClass:r}=n(63),s=n(65).version;let o=!1,i=null;function c(e){const{raw:t,img1:n,img2:r,actualSrc:s,expectedSrc:o,seq:i}=e.data,c=self.Module.detectDiff(Module,n,r,{}),a=Object.assign({},{images:[{width:n.width,height:n.height},{width:r.width,height:r.height}]},c);self.postMessage({type:"res_calc",seq:i,raw:t,actualSrc:s,expectedSrc:o,result:a})}self.Module=new r({version:function(e){const[t,n,r,s]=e.match(/^(\d*)\.(\d*)\.(\d*)/);return 1e4*+n+100*+r+ +s}(s),wasmUrl:self.wasmUrl,init:()=>{o=!0,i&&c(i),self.postMessage({type:"init"})}}),self.addEventListener("message",e=>{switch(e.data.type){case"req_calc":o?c(e):i=e}})},63:function(e,t,n){const r=n(64);e.exports={ModuleClass:class{constructor(e){this._initCb=e.init,this._version=e.version,this._wasmUrl=e.wasmUrl}locateFile(e){return self.location.pathname.replace(/\/[^\/]*$/,"/")+e}instantiateWasm(e,t){return r(this._version,this._wasmUrl,e).then(e=>t(e)),{}}onInit(e){this._initCb=e}onRuntimeInitialized(){if(this._initCb)return this._initCb(this)}}}},64:function(e,t){e.exports=function(e,t,n){const r="wasm-cache",s="wasm-cache";function o(){return fetch(t).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,n))}return new Promise((t,n)=>{var o=indexedDB.open(r,e);o.onerror=n.bind(null,"Error opening wasm cache database"),o.onsuccess=(()=>{t(o.result)}),o.onupgradeneeded=(e=>{var t=o.result;t.objectStoreNames.contains(s)&&(console.log(`Clearing out version ${e.oldVersion} wasm cache`),t.deleteObjectStore(s)),console.log(`Creating version ${e.newVersion} wasm cache`),t.createObjectStore(s)})}).then(e=>(function(e){return new Promise((n,r)=>{var o=e.transaction([s]).objectStore(s).get(t);o.onerror=r.bind(null,`Error getting wasm module ${t}`),o.onsuccess=(e=>{o.result?n(o.result):r(`Module ${t} was not found in wasm cache`)})})})(e).then(e=>(console.log(`Found ${t} in wasm cache`),WebAssembly.instantiate(e,n)),n=>(console.log(n),o().then(n=>(setTimeout(()=>(function(e,n){var r=e.transaction([s],"readwrite").objectStore(s);try{var o=r.put(n,t);o.onerror=(e=>{console.log(`Failed to store in wasm cache: ${e}`)}),o.onsuccess=(e=>{console.log(`Successfully stored ${t} in wasm cache`)})}catch(e){console.warn("An error was thrown... in storing wasm cache..."),console.warn(e)}})(e,n.module),0),n.instance)))),e=>(console.log(e),o().then(e=>e.instance)))}},65:function(e){e.exports={name:"x-img-diff-js",version:"0.3.5",main:"src/index.js",description:"compare 2 images considering into translation",scripts:{build:"docker-compose run --rm emcc && npm run build:demo",test:"node test/test_node.js","build:demo":"cp -rf build demo",start:"cd demo; http-server -p 8000","gen:postjs":"babel binding-gen/post.js > bindings/post.js",deploy:"npm run build:demo && gh-pages -d demo"},repository:{type:"git",url:"git+https://github.com/reg-viz/x-img-diff-js.git"},author:"Quramy",license:"MIT",bugs:{url:"https://github.com/reg-viz/x-img-diff-js/issues"},homepage:"https://github.com/reg-viz/x-img-diff-js#readme",devDependencies:{"babel-cli":"^6.26.0","babel-core":"^6.26.0","babel-preset-es2015":"^6.24.1","gh-pages":"^1.0.0","http-server":"^0.10.0",pngjs:"^3.3.0"}}}});